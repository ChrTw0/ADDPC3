=============================================================================
SECCI√ìN: MARCO TE√ìRICO / FUNDAMENTOS
=============================================================================

Esta secci√≥n explica conceptos b√°sicos para que cualquier lector entienda el paper.
Debe insertarse DESPU√âS de Introducci√≥n, ANTES de Metodolog√≠a.

=============================================================================

## 2. MARCO TE√ìRICO

### 2.1. ¬øQu√© es Clasificaci√≥n en Machine Learning?

**Definici√≥n b√°sica:**
La clasificaci√≥n es una t√©cnica de aprendizaje supervisado donde el objetivo es predecir la **categor√≠a o clase** a la que pertenece una observaci√≥n, en lugar de predecir un n√∫mero exacto [6].

**Ejemplo cotidiano (G√©ron, Cap 3 [6]):**
- **Regresi√≥n:** Predecir el precio exacto de una casa ($250,000)
- **Clasificaci√≥n:** Predecir si una casa es "Barata", "Normal" o "Cara"

**Tipos de clasificaci√≥n:**

1. **Clasificaci√≥n Binaria:** Solo 2 clases posibles
   - Ejemplo del libro [6]: Detectar si un email es "Spam" o "No Spam"
   - Ejemplo en este proyecto: Zona "Normal" vs "Cr√≠tica"

2. **Clasificaci√≥n Multiclase:** M√°s de 2 clases posibles
   - Ejemplo del libro [6]: Reconocer d√≠gitos (0-9)
   - Ejemplo en este proyecto: Nivel de Riesgo "Bajo", "Medio", "Alto", "Muy Alto"

**¬øPor qu√© clasificar en lugar de predecir n√∫meros exactos?**

En el contexto de seguridad ciudadana:
- ‚ùå **Predicci√≥n exacta:** "Habr√° 23.7 hurtos la pr√≥xima semana" ‚Üí Dif√≠cil de interpretar
- ‚úÖ **Clasificaci√≥n:** "Esta zona es CR√çTICA" ‚Üí **Decisi√≥n clara**: Enviar patrullas

Como explica G√©ron [6]: "La clasificaci√≥n transforma predicciones num√©ricas en decisiones accionables".

---

### 2.2. ¬øQu√© es un Modelo vs un Algoritmo?

**T√©rminos clave (siguiendo nomenclatura del libro [6]):**

**Algoritmo de Machine Learning:**
- Es el **m√©todo o proceso matem√°tico** para aprender de los datos
- Ejemplos: Gradient Boosting, Random Forest, Logistic Regression

**Modelo:**
- Es el **resultado de entrenar un algoritmo** con datos espec√≠ficos
- Contiene los par√°metros aprendidos que permiten hacer predicciones

**Analog√≠a:**
```
Algoritmo = Receta de cocina
Modelo = Plato cocinado usando esa receta
```

**Ejemplo en este proyecto:**
- **Algoritmo:** Gradient Boosting (m√©todo general)
- **Modelo:** "Gradient Boosting entrenado con 567,742 observaciones de HURTO en Lima"
- **Predicci√≥n:** El modelo clasifica una nueva zona como "CR√çTICA"

**En este paper:**
- Implementamos **7 algoritmos** del Cap√≠tulo 3 [6]
- Entrenamos **42 modelos** (7 algoritmos √ó 3 problemas √ó 2 delitos)
- Cada modelo puede hacer predicciones sobre zonas de Lima

---

### 2.3. ¬øQu√© es un Hotspot Criminal?

**Definici√≥n criminol√≥gica:**
Un hotspot criminal es un **√°rea geogr√°fica espec√≠fica** donde se concentra una cantidad desproporcionadamente alta de cr√≠menes [3].

**Teor√≠a de concentraci√≥n espacial (Eck et al. [3]):**
- El crimen NO est√° distribuido uniformemente
- Peque√±as √°reas concentran la mayor√≠a de cr√≠menes
- Ejemplo: 5% del territorio puede tener 50% de los cr√≠menes [4]

**Validaci√≥n en nuestros datos (Lima):**
- Top 5% de celdas concentra **56.2%** de todos los hurtos
- Top 10% de celdas concentra **66.7%** de todos los hurtos
- √çndice de Gini = 0.771 (alta concentraci√≥n espacial)

**Representaci√≥n t√©cnica en este proyecto:**

```
Grid Espacial de Lima:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  2  ‚îÇ  1  ‚îÇ  0  ‚îÇ  3  ‚îÇ  ‚Üê Celdas de ~555m √ó 555m
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  0  ‚îÇ 157 ‚îÇ  5  ‚îÇ  1  ‚îÇ  ‚Üê N√∫mero = cr√≠menes por semana
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  1  ‚îÇ  8  ‚îÇ 243 ‚îÇ  2  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  0  ‚îÇ  1  ‚îÇ  4  ‚îÇ  0  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚Üë       ‚Üë
      HOTSPOTS (>100 cr√≠menes)
```

**¬øPor qu√© usar grid de 555m √ó 555m?**
- Basado en literatura criminol√≥gica [4]: balance entre granularidad y suficiencia estad√≠stica
- 555m ‚âà 3 cuadras, escala operacional para patrullas policiales
- Grid m√°s peque√±o ‚Üí Datos insuficientes por celda
- Grid m√°s grande ‚Üí Pierde precisi√≥n espacial

---

### 2.4. Finalidad de los Clasificadores: 3 Sistemas de Decisi√≥n

Este proyecto NO construye UN modelo, sino **3 sistemas de clasificaci√≥n complementarios**, cada uno respondiendo una pregunta operacional espec√≠fica:

#### **CLASIFICADOR 1: Nivel de Riesgo (4 clases)**

**Pregunta que responde:**
"¬øQu√© **cantidad de recursos** necesita esta zona?"

**Clases y significado operacional:**
- **Clase 0 (Bajo):** 0-2 cr√≠menes/semana ‚Üí Patrullaje rutinario est√°ndar
- **Clase 1 (Medio):** 3-5 cr√≠menes/semana ‚Üí Patrullaje intensificado (1.5x recursos)
- **Clase 2 (Alto):** 6-10 cr√≠menes/semana ‚Üí Unidades especializadas (2x recursos)
- **Clase 3 (Muy Alto):** >10 cr√≠menes/semana ‚Üí Operativo permanente (3x recursos)

**Tipo:** Clasificaci√≥n Multiclase (4 categor√≠as)

**Valor pr√°ctico:**
Permite **asignaci√≥n proporcional** de recursos. Una zona clasificada como "Alto" recibe el doble de patrullas que una "Bajo".

**Ejemplo de uso:**
```
Input: Zona A tiene historial de 8 hurtos semana pasada
Modelo predice: Clase 2 (Alto)
Decisi√≥n: Asignar 4 patrullas (en lugar de 2 est√°ndar)
```

---

#### **CLASIFICADOR 2: Hotspot Cr√≠tico (2 clases - Binaria)**

**Pregunta que responde:**
"¬øDebo **intervenir inmediatamente** en esta zona esta semana?"

**Clases y significado operacional:**
- **Clase 0 (Normal):** ‚â§5 cr√≠menes/semana ‚Üí Seguimiento normal
- **Clase 1 (Cr√≠tico):** >5 cr√≠menes/semana ‚Üí **Intervenci√≥n obligatoria**

**Tipo:** Clasificaci√≥n Binaria (s√≠/no)

**Valor pr√°ctico:**
Decisi√≥n **binaria clara** sin ambig√ºedad. Si el modelo predice "Cr√≠tico", se activa protocolo de intervenci√≥n autom√°ticamente.

**Ejemplo de uso:**
```
Input: Zona B proyectada para pr√≥xima semana
Modelo predice: Clase 1 (Cr√≠tico)
Decisi√≥n: ‚úì Activar operativo especial
          ‚úì Coordinar con comisar√≠a local
          ‚úì Aumentar patrullaje nocturno
```

**M√©tricas cr√≠ticas:**
- **Precision alta:** Evitar falsas alarmas que desperdicien recursos
- **Recall alto:** No perder zonas cr√≠ticas reales que requieren intervenci√≥n
- **F1-Score = 0.9956:** De 100 zonas marcadas "Cr√≠tico", 99.5 realmente lo son

---

#### **CLASIFICADOR 3: Tendencia de Riesgo (3 clases)**

**Pregunta que responde:**
"¬øEsta zona est√° **mejorando o empeorando**?"

**Clases y significado operacional:**
- **Clase 0 (Descenso):** Cr√≠menes disminuyendo >30% vs promedio hist√≥rico
  ‚Üí Mantener estrategia actual (funciona)
- **Clase 1 (Estable):** Variaci√≥n entre -30% y +30%
  ‚Üí Monitoreo continuo
- **Clase 2 (Escalada):** Cr√≠menes aumentando >30% vs promedio hist√≥rico
  ‚Üí **Alerta temprana: intervenir ANTES de que se consolide como hotspot**

**Tipo:** Clasificaci√≥n Multiclase (3 categor√≠as)

**Valor pr√°ctico:**
**Sistema de alerta temprana** que detecta zonas en deterioro ANTES de que se conviertan en hotspots cr√≠ticos.

**Ejemplo de uso:**
```
Input: Zona C historial √∫ltimas 4 semanas: [2, 3, 5, 8] hurtos
      Promedio hist√≥rico: 3 hurtos/semana
      Ratio: 8/3 = 2.67 (aumento 167%)
Modelo predice: Clase 2 (Escalada)
Decisi√≥n: ‚ö†Ô∏è Investigar causas (nueva banda criminal?, comercio ilegal?)
          ‚ö†Ô∏è Intervenci√≥n preventiva para evitar consolidaci√≥n
```

---

### 2.5. Arquitectura del Sistema Completo

**Pipeline operacional:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. DATOS DE ENTRADA (Semanal)                                      ‚îÇ
‚îÇ    - Denuncias georreferenciadas PNP                               ‚îÇ
‚îÇ    - Grid de Lima dividido en celdas 555m √ó 555m                   ‚îÇ
‚îÇ    - Hist√≥rico √∫ltimas 4 semanas por celda                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
                             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 2. FEATURE ENGINEERING                                             ‚îÇ
‚îÇ    - crime_count_lag_1: Cr√≠menes semana anterior                   ‚îÇ
‚îÇ    - crime_count_lag_2: Cr√≠menes 2 semanas atr√°s                   ‚îÇ
‚îÇ    - crime_count_lag_3: Cr√≠menes 3 semanas atr√°s                   ‚îÇ
‚îÇ    - crime_count_lag_4: Cr√≠menes 4 semanas atr√°s                   ‚îÇ
‚îÇ    - mes: Estacionalidad (1-12)                                    ‚îÇ
‚îÇ    - dia_semana: Patr√≥n semanal (0-6)                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
                             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 3. CLASIFICADORES ENTRENADOS (Mejores modelos)                     ‚îÇ
‚îÇ                                                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                ‚îÇ
‚îÇ  ‚îÇ Gradient Boosting    ‚îÇ  ‚îÇ Gradient Boosting   ‚îÇ                ‚îÇ
‚îÇ  ‚îÇ Nivel de Riesgo      ‚îÇ  ‚îÇ Hotspot Cr√≠tico     ‚îÇ                ‚îÇ
‚îÇ  ‚îÇ F1 = 0.9771          ‚îÇ  ‚îÇ F1 = 0.9956         ‚îÇ                ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ
‚îÇ             ‚îÇ                          ‚îÇ                           ‚îÇ
‚îÇ             ‚ñº                          ‚ñº                           ‚îÇ
‚îÇ      [ Bajo / Medio /          [ Normal / Cr√≠tico ]               ‚îÇ
‚îÇ        Alto / Muy Alto ]                                           ‚îÇ
‚îÇ                                                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                          ‚îÇ
‚îÇ  ‚îÇ Random Forest        ‚îÇ                                          ‚îÇ
‚îÇ  ‚îÇ Tendencia            ‚îÇ                                          ‚îÇ
‚îÇ  ‚îÇ F1 = 0.9327          ‚îÇ                                          ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                          ‚îÇ
‚îÇ             ‚îÇ                                                       ‚îÇ
‚îÇ             ‚ñº                                                       ‚îÇ
‚îÇ      [ Descenso / Estable / Escalada ]                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
                             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 4. SISTEMA DE DECISI√ìN OPERACIONAL                                 ‚îÇ
‚îÇ                                                                     ‚îÇ
‚îÇ  Para cada celda de Lima (ejemplo: Celda X):                       ‚îÇ
‚îÇ                                                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îÇ
‚îÇ  ‚îÇ INPUT: Celda X con lags [8, 6, 5, 4]               ‚îÇ           ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îÇ
‚îÇ                       ‚îÇ                                            ‚îÇ
‚îÇ                       ‚ñº                                            ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îÇ
‚îÇ  ‚îÇ PREDICCIONES:                                       ‚îÇ           ‚îÇ
‚îÇ  ‚îÇ  - Nivel Riesgo:    Alto (6-10 cr√≠menes)           ‚îÇ           ‚îÇ
‚îÇ  ‚îÇ  - Hotspot Cr√≠tico: Normal (‚â§5 cr√≠menes)           ‚îÇ           ‚îÇ
‚îÇ  ‚îÇ  - Tendencia:       Descenso (mejorando)           ‚îÇ           ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îÇ
‚îÇ                       ‚îÇ                                            ‚îÇ
‚îÇ                       ‚ñº                                            ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îÇ
‚îÇ  ‚îÇ DECISIONES AUTOMATIZADAS:                           ‚îÇ           ‚îÇ
‚îÇ  ‚îÇ  ‚úì Asignar 2x recursos (Alto)                      ‚îÇ           ‚îÇ
‚îÇ  ‚îÇ  ‚úì NO activar operativo especial (Normal)          ‚îÇ           ‚îÇ
‚îÇ  ‚îÇ  ‚úì Mantener estrategia actual (Descenso funciona)  ‚îÇ           ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îÇ
‚îÇ                                                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Integraci√≥n operacional:**

Los 3 clasificadores trabajan **en conjunto** para generar un **perfil completo** de cada zona:

| Celda | Nivel Riesgo | Hotspot | Tendencia | Acci√≥n Recomendada |
|-------|--------------|---------|-----------|-------------------|
| A | Muy Alto | Cr√≠tico | Escalada | üö® **URGENTE**: Operativo inmediato, investigar causas escalada |
| B | Alto | Normal | Estable | ‚ö†Ô∏è Patrullaje intensificado, monitoreo continuo |
| C | Medio | Normal | Descenso | ‚úì Patrullaje est√°ndar, estrategia funcionando |
| D | Bajo | Normal | Descenso | ‚úì Seguimiento rutinario |

---

### 2.6. ¬øPor qu√© 7 Algoritmos Diferentes?

**Objetivo acad√©mico (Cap√≠tulo 3 [6]):**
Comparar emp√≠ricamente m√∫ltiples algoritmos de clasificaci√≥n para identificar cu√°l tiene mejor rendimiento en este problema espec√≠fico.

**Algoritmos implementados (todos del Cap 3):**

1. **SGD Classifier:** Clasificador lineal con descenso de gradiente estoc√°stico
2. **Logistic Regression:** Clasificador probabil√≠stico, salida interpretable
3. **Random Forest:** Ensemble de √°rboles (bagging), robusto a overfitting
4. **Gradient Boosting:** Ensemble secuencial, t√≠picamente mejor rendimiento
5. **K-Nearest Neighbors (KNN):** Clasificaci√≥n por vecindad, captura patrones espaciales
6. **Decision Tree:** √Årbol individual, altamente interpretable
7. **AdaBoost:** Boosting adaptativo, enfoque en casos dif√≠ciles

**Hallazgo del estudio:**
- **Gradient Boosting** gan√≥ en 4/6 categor√≠as (67% de casos)
- **Random Forest** super√≥ a GB solo en clasificaci√≥n de Tendencia
- **Logistic Regression** tuvo rendimiento casi igual a GB (F1 diff = 0.0002) pero con ventaja de interpretabilidad

**Conclusi√≥n pr√°ctica:**
Para despliegue operacional, recomendamos:
- **Gradient Boosting** para Nivel Riesgo y Hotspot Cr√≠tico
- **Random Forest** para Tendencia
- **Logistic Regression** como alternativa cuando se requiera explicabilidad a stakeholders

---

### 2.7. M√©tricas de Evaluaci√≥n (Cap√≠tulo 3 [6])

**¬øPor qu√© NO usamos Accuracy?**

G√©ron [6] explica que en datasets desbalanceados, Accuracy es enga√±osa.

**Ejemplo en nuestros datos:**
- 95.44% de zonas son "Normal"
- 4.56% de zonas son "Cr√≠tico"

Un modelo "tonto" que siempre predice "Normal" tendr√≠a:
- **Accuracy = 95.44%** ‚Üê Parece excelente!
- Pero **NO detecta ning√∫n hotspot cr√≠tico** ‚Üê In√∫til operacionalmente

**M√©tricas correctas para datos desbalanceados:**

**1. Precision (Precisi√≥n):**
```
Precision = TP / (TP + FP)
```
**Interpretaci√≥n:** "De las zonas que clasificamos como Cr√≠ticas, ¬øqu√© % realmente lo es?"
**Valor operacional:** Evita falsas alarmas que desperdicien recursos

**2. Recall (Sensibilidad):**
```
Recall = TP / (TP + FN)
```
**Interpretaci√≥n:** "De todas las zonas realmente Cr√≠ticas, ¬øqu√© % detectamos?"
**Valor operacional:** Evita perder hotspots que requieren intervenci√≥n

**3. F1-Score (M√©trica principal):**
```
F1-Score = 2 √ó (Precision √ó Recall) / (Precision + Recall)
```
**Interpretaci√≥n:** Media arm√≥nica que balancea Precision y Recall
**Criterio de √©xito:**
- F1 > 0.85: Modelo listo para producci√≥n
- F1 = 0.70-0.85: Funcional, considerar optimizaci√≥n
- F1 < 0.70: Requiere mejora

**Resultados de este proyecto:**
- **Mejor F1 = 0.9956** (Gradient Boosting Hotspot Cr√≠tico)
- **100% de modelos con F1 > 0.83** (todos deploy-ready)
- Promedio F1 = 0.9410 (HURTO), 0.9387 (EXTORSI√ìN)

---

### 2.8. Aprendizaje Supervisado: Entrenamiento y Evaluaci√≥n

**Concepto fundamental (G√©ron, Cap 3 [6]):**

En aprendizaje supervisado, tenemos datos **etiquetados** donde conocemos la respuesta correcta.

**En este proyecto:**

```
Datos de Entrenamiento (2020-2024):
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Features (X)   ‚îÇ                  ‚îÇ Target(y)‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ lag_1  lag_2   ‚îÇ  mes  dia_semana ‚îÇ  Clase   ‚îÇ
‚îÇ   8      6     ‚îÇ   3      2       ‚îÇ  Alto    ‚îÇ ‚Üê El modelo aprende
‚îÇ   2      1     ‚îÇ   3      2       ‚îÇ  Bajo    ‚îÇ   este patr√≥n
‚îÇ  12     15     ‚îÇ   4      3       ‚îÇ Muy Alto ‚îÇ
‚îÇ  ...   ...     ‚îÇ  ...    ...      ‚îÇ  ...     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        567,742 observaciones de HURTO

Datos de Test (2024-2025):
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Features (X)   ‚îÇ                  ‚îÇ Target(y)‚îÇ Predicci√≥n ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   5      4     ‚îÇ   1      1       ‚îÇ  Medio   ‚îÇ  Medio  ‚úì  ‚îÇ
‚îÇ  18     22     ‚îÇ   1      2       ‚îÇ Muy Alto ‚îÇMuy Alto ‚úì  ‚îÇ
‚îÇ   1      0     ‚îÇ   1      3       ‚îÇ  Bajo    ‚îÇ  Bajo   ‚úì  ‚îÇ
‚îÇ  ...   ...     ‚îÇ  ...    ...      ‚îÇ  ...     ‚îÇ   ...      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        141,936 observaciones (nunca vistas durante entrenamiento)
```

**Proceso de entrenamiento:**
1. Modelo analiza 567,742 casos con respuesta conocida
2. Aprende patrones: "Si lag_1 > 10 y lag_2 > 8 ‚Üí Probablemente Muy Alto"
3. Ajusta par√°metros internos para minimizar errores

**Proceso de evaluaci√≥n:**
1. Modelo predice clase para 141,936 casos NUEVOS (futuro real)
2. Comparamos predicci√≥n vs realidad
3. Calculamos F1-Score, Precision, Recall

**Split temporal (2020-2024 / 2024-2025):**
- **NO es aleatorio:** Respeta cronolog√≠a
- **Simula predicci√≥n real:** Entrenamos con pasado, predecimos futuro
- **Evita data leakage:** Modelo nunca ve datos de test durante entrenamiento

---

**FIN DEL MARCO TE√ìRICO**

=============================================================================
NOTAS PARA INTEGRACI√ìN:
=============================================================================

Esta secci√≥n debe insertarse como "SECCI√ìN 2" completa, desplazando:
- Estado del Arte ‚Üí Secci√≥n 3
- Metodolog√≠a ‚Üí Secci√≥n 4
- Resultados ‚Üí Secci√≥n 5
- Discusi√≥n ‚Üí Secci√≥n 6
- Conclusiones ‚Üí Secci√≥n 7

Citas al libro (Hands-On ML Cap 3):
- [6] A. G√©ron, Hands-On Machine Learning with Scikit-Learn, Keras, and TensorFlow, 2nd ed. Sebastopol, CA: O'Reilly Media, 2019, ch. 3.

Todas las referencias [6] apuntan al Cap√≠tulo 3 del libro.
